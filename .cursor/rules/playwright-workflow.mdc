---
description: Playwright MCP browser automation workflow
globs: ["**/*"]
alwaysApply: false
---

# Playwright MCP Workflow

## Available MCP Tools

When the Playwright MCP server is configured, you have access to these tools:

### Navigation & Browser Control
- `browser_navigate` - Navigate to a URL
- `browser_resize` - Resize the browser window
- `browser_navigate_back` - Go back to previous page
- `browser_snapshot` - Capture accessibility snapshot (better than screenshot for understanding page structure)

### Interaction
- `browser_click` - Click on an element
- `browser_type` - Type text into an input
- `browser_hover` - Hover over an element
- `browser_select_option` - Select dropdown option
- `browser_press_key` - Press a keyboard key

### Waiting
- `browser_wait_for` - Wait for text, element, or time

### Debugging
- `browser_console_messages` - Get console logs
- `browser_network_requests` - Get network requests

## Standard Workflow for Screenshots

1. **Resize browser first** (critical for consistency):
```
browser_resize: width=1024, height=768
```

2. **Navigate to URL**:
```
browser_navigate: url=http://localhost:8080
```

3. **Wait for page load** (optional):
```
browser_wait_for: time=2
```

4. **Take snapshot** to understand page structure:
```
browser_snapshot
```

## Design Implementation Loop

To iteratively implement a design:

1. Take screenshot of target design
2. Take screenshot of current dev server (http://localhost:8080)
3. Run comparison: `npx tsx scripts/compare-images.ts`
4. Analyze the diff image
5. Make code changes based on diff
6. Repeat until designs match

## Tips

- Always use 1024x768 dimensions for consistency
- Save screenshots as PNG, not JPEG
- Use descriptive filenames with timestamps
- The diff image highlights differences in red/magenta
- Focus on major structural differences first, then fine-tune colors/spacing
